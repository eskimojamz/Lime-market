[{"/Users/jk/WebstormProjects/Lime-market/client/src/index.js":"1","/Users/jk/WebstormProjects/Lime-market/client/src/App.js":"2","/Users/jk/WebstormProjects/Lime-market/client/src/components/ScrollToTop.js":"3","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/index.js":"4","/Users/jk/WebstormProjects/Lime-market/client/src/components/Navbar.js":"5","/Users/jk/WebstormProjects/Lime-market/client/src/routes/SignupPage.js":"6","/Users/jk/WebstormProjects/Lime-market/client/src/routes/Home.js":"7","/Users/jk/WebstormProjects/Lime-market/client/src/routes/LoginPage.js":"8","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ListingsPage.js":"9","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ListingInfoPage.js":"10","/Users/jk/WebstormProjects/Lime-market/client/src/actions/actions.js":"11","/Users/jk/WebstormProjects/Lime-market/client/src/routes/FormPage.js":"12","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ProfilePage.js":"13","/Users/jk/WebstormProjects/Lime-market/client/src/components/Tooltip.js":"14","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/listing.js":"15","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/comments.js":"16","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/currentListing.js":"17","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/listings.js":"18","/Users/jk/WebstormProjects/Lime-market/client/src/components/LogoutButton.js":"19","/Users/jk/WebstormProjects/Lime-market/client/src/components/LoginButton.js":"20","/Users/jk/WebstormProjects/Lime-market/client/src/components/MenuButton.js":"21","/Users/jk/WebstormProjects/Lime-market/client/src/components/Listing.js":"22","/Users/jk/WebstormProjects/Lime-market/client/src/components/ListingForm.js":"23","/Users/jk/WebstormProjects/Lime-market/client/src/components/ImageCarousel.js":"24","/Users/jk/WebstormProjects/Lime-market/client/src/components/EditMenuBackdrop.js":"25","/Users/jk/WebstormProjects/Lime-market/client/src/pagination/Pagination.js":"26","/Users/jk/WebstormProjects/Lime-market/client/src/api/api.js":"27","/Users/jk/WebstormProjects/Lime-market/client/src/assets/Heart.jsx":"28","/Users/jk/WebstormProjects/Lime-market/client/src/pagination/usePagination.js":"29"},{"size":693,"mtime":1657514581501,"results":"30","hashOfConfig":"31"},{"size":2616,"mtime":1657598272132,"results":"32","hashOfConfig":"31"},{"size":252,"mtime":1657514581500,"results":"33","hashOfConfig":"31"},{"size":396,"mtime":1657514581502,"results":"34","hashOfConfig":"31"},{"size":13611,"mtime":1657598375245,"results":"35","hashOfConfig":"31"},{"size":7220,"mtime":1657514581502,"results":"36","hashOfConfig":"31"},{"size":4833,"mtime":1657514581502,"results":"37","hashOfConfig":"31"},{"size":6149,"mtime":1657514581502,"results":"38","hashOfConfig":"31"},{"size":7173,"mtime":1657609830534,"results":"39","hashOfConfig":"31"},{"size":17936,"mtime":1657601711543,"results":"40","hashOfConfig":"31"},{"size":3936,"mtime":1657514581487,"results":"41","hashOfConfig":"31"},{"size":1712,"mtime":1657514581502,"results":"42","hashOfConfig":"31"},{"size":1759,"mtime":1657514581502,"results":"43","hashOfConfig":"31"},{"size":846,"mtime":1657514581500,"results":"44","hashOfConfig":"31"},{"size":224,"mtime":1657514581502,"results":"45","hashOfConfig":"31"},{"size":224,"mtime":1657514581501,"results":"46","hashOfConfig":"31"},{"size":240,"mtime":1657514581501,"results":"47","hashOfConfig":"31"},{"size":651,"mtime":1657514581502,"results":"48","hashOfConfig":"31"},{"size":220,"mtime":1657514581500,"results":"49","hashOfConfig":"31"},{"size":372,"mtime":1657514581500,"results":"50","hashOfConfig":"31"},{"size":3162,"mtime":1657514581500,"results":"51","hashOfConfig":"31"},{"size":6245,"mtime":1657688054398,"results":"52","hashOfConfig":"31"},{"size":14433,"mtime":1657514581500,"results":"53","hashOfConfig":"31"},{"size":4803,"mtime":1657514581500,"results":"54","hashOfConfig":"31"},{"size":884,"mtime":1657514581500,"results":"55","hashOfConfig":"31"},{"size":1940,"mtime":1657514581501,"results":"56","hashOfConfig":"31"},{"size":2034,"mtime":1657514581487,"results":"57","hashOfConfig":"31"},{"size":826,"mtime":1657514581488,"results":"58","hashOfConfig":"31"},{"size":2700,"mtime":1657514581501,"results":"59","hashOfConfig":"31"},{"filePath":"60","messages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"101c9o8",{"filePath":"63","messages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"65","usedDeprecatedRules":"62"},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"68","messages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"70","messages":"71","errorCount":0,"fatalErrorCount":0,"warningCount":8,"fixableErrorCount":0,"fixableWarningCount":0,"source":"72","usedDeprecatedRules":"62"},{"filePath":"73","messages":"74","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"75","usedDeprecatedRules":"62"},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78","usedDeprecatedRules":"62"},{"filePath":"79","messages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81","usedDeprecatedRules":"62"},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"84","usedDeprecatedRules":"62"},{"filePath":"85","messages":"86","errorCount":0,"fatalErrorCount":0,"warningCount":14,"fixableErrorCount":0,"fixableWarningCount":0,"source":"87","usedDeprecatedRules":"62"},{"filePath":"88","messages":"89","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"90","messages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"92","usedDeprecatedRules":"62"},{"filePath":"93","messages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"62"},{"filePath":"96","messages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"62"},{"filePath":"99","messages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"101","messages":"102","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"103","messages":"104","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"105","messages":"106","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"107","messages":"108","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"62"},{"filePath":"110","messages":"111","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"112","usedDeprecatedRules":"62"},{"filePath":"113","messages":"114","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"115","usedDeprecatedRules":"62"},{"filePath":"116","messages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"118","messages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"62"},{"filePath":"121","messages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"123","usedDeprecatedRules":"62"},{"filePath":"124","messages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"126","messages":"127","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"128","messages":"129","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"130","messages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},{"filePath":"132","messages":"133","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"62"},"/Users/jk/WebstormProjects/Lime-market/client/src/index.js",[],["134","135"],"/Users/jk/WebstormProjects/Lime-market/client/src/App.js",["136","137"],"import React, { useState, useEffect, createContext } from 'react'\nimport { useDispatch } from 'react-redux';\nimport { setCurrentListing } from './actions/actions';\nimport { Route, Switch, useLocation } from 'react-router-dom'\nimport Navbar from './components/Navbar'\nimport SignupPage from './routes/SignupPage'\nimport LoginPage from './routes/LoginPage'\nimport Home from './routes/Home'\nimport ListingsPage from './routes/ListingsPage'\nimport ListingInfoPage from './routes/ListingInfoPage'\nimport FormPage from './routes/FormPage'\nimport ProfilePage from './routes/ProfilePage'\nimport { motion, AnimateSharedLayout } from 'framer-motion'\n\nexport const UserContext = createContext(null)\n\nconst App = () => {\n    const location = useLocation()\n    const dispatch = useDispatch()\n    const [currentUser, setCurrentUser] = useState(null)\n    const [edit, setEdit] = useState(false)\n    console.log(currentUser)\n    console.log(edit)\n\n    const [navBg, setNavBg] = useState(false)\n\n    const changeNavBg = () => {\n        window.scrollY >= 16 ? setNavBg(true) : setNavBg(false);\n    }\n\n    useEffect(() => {\n      setCurrentUser(JSON.parse(sessionStorage.getItem('user')))\n    }, [])\n\n    // setCurrentListing empty after leaving edit form page\n    useEffect(async() => {\n      if (edit && (location.pathname !== '/form')){\n        console.log('left edit form')\n        await dispatch(setCurrentListing([]))\n        setEdit(false)\n      }\n    }, [location])\n\n    useEffect(() => {\n        window.addEventListener('scroll', changeNavBg);\n        return () => {\n            window.removeEventListener('scroll', changeNavBg);\n        }\n    }, [])\n\n  return (\n      <>\n        <AnimateSharedLayout>\n        <motion.div className=\"wrapper\">\n          <UserContext.Provider value={{currentUser, setCurrentUser, edit, setEdit}}>\n          \n          <Navbar navBg={navBg}/>\n          <motion.div className=\"container\">\n            <Switch location={location} key={location.pathname}>\n              <Route path='/' exact component={Home} />\n              <Route path='/register/' component={SignupPage} />\n              <Route path='/login/' component={LoginPage} />\n              <Route exact path='/listings' component={ListingsPage} />\n              <Route path='/listings/:listingId' exact component={ListingInfoPage} />\n              <Route path='/form' exact component={FormPage} />\n              <Route path='/profile/:userId' component={ProfilePage} />\n            </Switch>\n          </motion.div>\n          </UserContext.Provider>\n        </motion.div>\n        </AnimateSharedLayout>\n    </>\n  )\n}\n\nexport default App","/Users/jk/WebstormProjects/Lime-market/client/src/components/ScrollToTop.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/reducers/index.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/components/Navbar.js",["138","139","140","141","142","143","144","145"],"import { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { motion, AnimateSharedLayout, AnimatePresence } from \"framer-motion\";\nimport LoginButton from \"./LoginButton\";\nimport LogoutButton from \"./LogoutButton\";\nimport { Link } from \"react-router-dom\";\nimport logo from \"../assets/logo.svg\";\nimport loginBtnSvg from \"../assets/loginbtn.svg\";\nimport deleteSvg from \"../assets/delete.svg\";\nimport goSvg from \"../assets/go.svg\";\nimport sidebarCloseSvg from \"../assets/rightarrow2.svg\";\nimport cart from \"../assets/cart.svg\";\nimport MenuButton from \"./MenuButton\";\nimport { UserContext } from \"../App\";\nimport axios from \"axios\";\n\nconst Navbar = ({navBg}) => {\n  const api = \"https://lime-market-backend.herokuapp.com\";\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  console.log(currentUser);\n  const [profileOpen, setProfileOpen] = useState(false);\n\n  console.log(\"user\", user);\n\n  const logoutAll = () => {\n    sessionStorage.removeItem(\"token\");\n    sessionStorage.removeItem(\"user\");\n    setCurrentUser(null);\n    window.location.reload();\n  };\n\n  return (\n    <>\n      <nav className=\"nav-container\"\n           style={{\n             backgroundColor: navBg ? 'rgba(247, 252, 248, 1)' : 'transparent',\n             borderBottom: navBg ? '1px solid #E8E8E8' : 'none'\n           }}>\n        <div className=\"nav\">\n          <div className=\"nav-left\">\n            <Link to=\"/\">\n              <motion.img\n                className=\"logo\"\n                src={logo}\n                initial={{ opacity: 0.5 }}\n                animate={{ opacity: 1 }}\n                transition={{ delay: 0.25, duration: 0.25 }}\n              ></motion.img>\n            </Link>\n            <Link to=\"/\">\n              <h2>Lime Market</h2>\n            </Link>\n          </div>\n\n          {profileOpen && (\n            <motion.div\n              className=\"mobile-menu-backdrop\"\n              onClick={() => setProfileOpen(!profileOpen)}\n            >\n              {/*  */}\n            </motion.div>\n          )}\n\n          <AnimatePresence>\n            {/* {profileOpen && ( */}\n            <motion.div\n              layout\n              className={`mobile-menu ${profileOpen && \"open\"}`}\n              // initial={{x: 20, opacity: 0 }}\n              // animate={{x: 0, opacity: 1 }}\n              // transition={{bounce: 0}}\n              // exit={{x: 20, opacity: 0}}\n            >\n              <motion.div className=\"mobile-menu-top\">\n                <Link to=\"/listings\">\n                  <motion.button\n                    onClick={() => setProfileOpen(!profileOpen)}\n                    className=\"listings-nav-btn-mobile\"\n                  >\n                    Listings\n                  </motion.button>\n                </Link>\n                <motion.span className=\"span-mobile-menu\" />\n                <Link to=\"/form\">\n                  <motion.button\n                    onClick={() => setProfileOpen(!profileOpen)}\n                    className=\"sell-nav-btn-mobile\"\n                  >\n                    Sell Now\n                  </motion.button>\n                </Link>\n                <span className=\"span-mobile-menu\" />\n              </motion.div>\n              {user || currentUser ? (\n                <>\n                  <motion.div className=\"mobile-menu-profile\">\n                    <motion.div className=\"mobile-menu-profile-left\">\n                      <img\n                        className=\"profile-mobile\"\n                        src={currentUser?.profile_img || user?.profile_img}\n                      />\n                    </motion.div>\n                    <motion.div className=\"mobile-menu-profile-right\">\n                      <h5>Signed in as: </h5>\n                      <h4>{currentUser?.username || user?.username}</h4>\n                    </motion.div>\n                  </motion.div>\n\n                  <motion.div className=\"mobile-menu-bottom-logout\">\n                    <Link\n                      className=\"mobile-menu-profile-link\"\n                      to={`/profile/${user?.username}`}\n                    >\n                      <button\n                        className=\"profile-btn-mobile\"\n                        onClick={() => setProfileOpen(!profileOpen)}\n                      >\n                        My Profile\n                      </button>\n                    </Link>\n                    <LogoutButton logoutAll={logoutAll} />\n                  </motion.div>\n                  <span className=\"span-mobile-menu\" />\n\n                  <motion.div className=\"mobile-menu-liked\">\n                    <motion.div className=\"watchlist-h\">\n                      <h2>My Watchlist</h2>\n                    </motion.div>\n                    <motion.div layout className=\"watchlist-items\">\n                      {currentUser?.watchlist.map((listing) => {\n                        return (\n                          <WatchlistListing\n                            listing={listing}\n                            profileOpen={profileOpen}\n                            setProfileOpen={setProfileOpen}\n                          />\n                        );\n                      })}\n                    </motion.div>\n                  </motion.div>\n                </>\n              ) : (\n                <>\n                  <Link to=\"/login\">\n                    <button\n                      className=\"login-btn mobile-menu-login\"\n                      onClick={() => setProfileOpen(!profileOpen)}\n                    >\n                      <img className=\"login-btn-svg\" src={loginBtnSvg} />\n                      Sign-in\n                    </button>\n                  </Link>\n                </>\n              )}\n            </motion.div>\n            {/* )} */}\n          </AnimatePresence>\n\n          <div className=\"nav-right-desktop\">\n            <Link to=\"/listings\">\n              <button className=\"listings-nav-btn\">Listings</button>\n            </Link>\n            <Link to=\"/form\">\n              <button className=\"sell-nav-btn\">Sell Now</button>\n            </Link>\n\n            {user || currentUser ? (\n              <>\n                <motion.img\n                  className=\"profile\"\n                  src={currentUser?.profile_img || user?.profile_img}\n                  onClick={() => setProfileOpen(!profileOpen)}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  transition={{ delay: 1.25, duration: 0.25 }}\n                ></motion.img>\n\n                <div className={`profile-menu ${profileOpen && \"open\"}`}>\n                  <div className=\"profile-menu-close\">\n                    <img\n                      className=\"profile-menu-close-btn\"\n                      src={sidebarCloseSvg}\n                      onClick={() => setProfileOpen(!profileOpen)}\n                    />\n                  </div>\n                  <div className=\"profile-menu-user-top\">\n                    <h5>Signed in as:</h5>\n                    <h5 className=\"bold\">\n                      {currentUser?.username || user?.username}\n                    </h5>\n                  </div>\n                  <div className=\"profile-menu-user-bottom\">\n                    <Link to={`/profile/${currentUser?.username}`}>\n                      <button className=\"profile-btn\">My Profile</button>\n                    </Link>\n                    <LogoutButton logoutAll={logoutAll} />\n                  </div>\n                  <div className=\"profile-menu-watchlist\">\n                    <div className=\"watchlist-h\">\n                      <h2>My Watchlist</h2>\n                    </div>\n                    <motion.div layout className=\"watchlist-items\">\n                      {currentUser?.watchlist.length > 0 &&\n                        currentUser?.watchlist.map((listing) => {\n                          return (\n                            <WatchlistListing\n                              listing={listing}\n                              profileOpen={profileOpen}\n                              setProfileOpen={setProfileOpen}\n                            />\n                          );\n                        })}\n                    </motion.div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <LoginButton />\n            )}\n          </div>\n          <MenuButton\n            profileOpen={profileOpen}\n            toggle={() => setProfileOpen(!profileOpen)}\n          />\n        </div>\n      </nav>\n    </>\n  );\n};\n\nexport default Navbar;\n\nfunction WatchlistListing({ listing, profileOpen, setProfileOpen }) {\n  const api = \"https://lime-market-backend.herokuapp.com\";\n  const history = useHistory();\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const token = sessionStorage.getItem(\"token\");\n\n  const [removeOpen, setRemoveOpen] = useState(false);\n  const listingId = listing.id;\n  const [listingData, setListingData] = useState();\n  console.log(listingId);\n  const [likes, setLikes] = useState();\n\n  const toggleRemove = () => setRemoveOpen(!removeOpen);\n\n  const remove = () => {\n    axios\n      .patch(\n        `${api}/listings/${listingId}/like`,\n        {\n          like_count: likes - 1,\n        },\n        {\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      )\n      .then(() => {\n        const newWatchlist = currentUser?.watchlist;\n        const index = newWatchlist.findIndex(\n          (l) => l.id == listingId.toString()\n        );\n        if (index > -1) {\n          newWatchlist.splice(index, 1);\n        }\n        console.log(newWatchlist);\n\n        return axios.patch(\n          `${api}/users/update/${currentUser?.username}`,\n          {\n            watchlist: newWatchlist,\n          },\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        );\n      })\n      .then(() => {\n        return axios\n          .get(`${api}/users/view/${currentUser?.username}`)\n          .then((response) => {\n            sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n            setCurrentUser(response.data);\n          });\n      });\n    // .then(() => {\n    //   return axios\n    //     .get(`${api}/listings/${listingId}/likeCount`)\n    //     .then((response) => {\n    //       setLikes(response.data.like_count);\n    //       setIsStopped(!isStopped);\n    //       setLiked(!liked);\n    //     });\n    // });\n  };\n\n  useEffect(() => {\n    const getListing = () => {\n      axios.get(`${api}/listings/${listingId}`).then((response) => {\n        setListingData(response.data);\n      });\n    };\n    const getLikes = () => {\n      const listingId = listing.id;\n      axios.get(`${api}/listings/${listingId}/likeCount`).then((response) => {\n        setLikes(response.data.like_count);\n      });\n    };\n    getListing();\n    getLikes();\n    console.log(listingData);\n  }, [currentUser]);\n\n  return (\n    <motion.div\n      layout\n      className=\"watchlist-listing\"\n      // initial={{ opacity: 0}}\n      // animate={{\n      //   opacity: 1,\n      // }}\n      // exit={{ opacity: 0 }}\n      // transition= {{ duration: 0.2 }}\n    >\n      <motion.div layout className=\"watchlist-listing-initial\">\n        <motion.div className=\"watchlist-listing-img\">\n          <Link to={`/listings/${listingData?.id}`}>\n            <motion.img\n              src={listingData?.image1}\n              onClick={() => setProfileOpen(!profileOpen)}\n            ></motion.img>\n          </Link>\n        </motion.div>\n        <motion.div className=\"watchlist-listing-info\"\n          onClick={() => {\n            history.push(`/listings/${listingData?.id}`);\n            setProfileOpen(!profileOpen)\n          }}\n        >\n          <motion.h4 className=\"watchlist-title\">\n            {listingData?.title}\n          </motion.h4>\n          <motion.h4 className=\"watchlist-price\">\n            ${listingData?.price}\n          </motion.h4>\n        </motion.div>\n        <motion.div className=\"watchlist-listing-buttons\">\n          <motion.a>\n            <motion.img src={deleteSvg} onClick={toggleRemove}></motion.img>\n          </motion.a>\n          <Link to={`/listings/${listingData?.id}`}>\n            <motion.img\n              src={goSvg}\n              onClick={() => setProfileOpen(!profileOpen)}\n            ></motion.img>\n          </Link>\n        </motion.div>\n      </motion.div>\n\n      <AnimatePresence>\n        {removeOpen && (\n          <motion.div\n            layout\n            className=\"watchlist-listing-bottom\"\n            initial={{ opacity: 0 }}\n            animate={{\n              opacity: 1,\n              transition: { duration: 0.5, delay: 0.25 },\n            }}\n            exit={{ opacity: 0 }}\n          >\n            {/* <motion.div layout className=\"watchlist-listing-bottom-text\">\n            <motion.h5 className=\"watchlist-listing-bottom-text-h\" layout>Are you sure?</motion.h5>\n          </motion.div> */}\n            <motion.div className=\"watchlist-listing-bottom-buttons\">\n              <motion.button\n                className=\"watchlist-listing-bottom-buttons-remove\"\n                onClick={remove}\n              >\n                Remove\n              </motion.button>\n              <motion.button\n                className=\"watchlist-listing-bottom-buttons-cancel\"\n                onClick={toggleRemove}\n              >\n                Cancel\n              </motion.button>\n            </motion.div>\n          </motion.div>\n        )}\n      </AnimatePresence>\n    </motion.div>\n  );\n}\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/SignupPage.js",["146","147","148","149"],"import { useContext, useState } from 'react'\nimport { motion } from 'framer-motion'\nimport axios from 'axios'\nimport { Link, useHistory } from 'react-router-dom' \nimport signup from '../assets/signup.svg'\nimport ClipLoader from 'react-spinners/ClipLoader'\nimport { UserContext } from '../App'\n\nfunction SignupPage() {\n    const api = 'https://lime-market-backend.herokuapp.com'\n    const {currentUser, setCurrentUser} = useContext(UserContext)\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    const [profile_img, setImg] = useState()\n    const defaultImg = 'https://limemarketstatic.s3.amazonaws.com/media/defaultprofileimg.svg'\n    const [invalidSignup, setInvalidSignup] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const history = useHistory()\n\n    const validate = () => {\n        let usernameError = false \n        let passwordError = false\n\n        if (username.length < 6) { \n            usernameError = true\n        }\n        if (password.length < 8) { \n            passwordError = true\n        }\n\n        if (usernameError || passwordError) {\n            setInvalidSignup(true)\n            setLoading(false)\n            return\n          }\n    }\n\n    const handleSubmit = async(e) => {\n        e.preventDefault()\n        setLoading(true)\n        validate()\n\n        let formData = new FormData();\n        formData.append(\"username\", username);\n        formData.append(\"password\", password);\n        formData.append(\"profile_img\", profile_img);\n\n        await axios\n            .post(`${api}/users/create`, formData, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n            })\n            .then(async(response) => {\n                setCurrentUser(response.data)\n                sessionStorage.setItem('user', JSON.stringify(response.data))\n                \n                await axios\n                    .post(`${api}/auth/`, {\n                        username: `${username}`,\n                        password: `${password}`\n                    }).then((response) => {\n                        sessionStorage.setItem('token', response.data.token)\n                        \n                        setLoading(false)\n                        history.push('/')\n                        })\n                    })\n            .catch((error) => {\n                    // console.log(error.response)\n                    setInvalidSignup(true)\n                    // console.log(invalidLogin)\n                    setLoading(false)\n                    return\n            });\n    }\n\n    return (\n        <>\n        <motion.div className=\"page-wrapper\"\n            initial={{ y: 20, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 0.5, duration: 0.25 }}\n        >\n            <div className=\"login-div\">\n                <div className=\"login-bg\">\n                    <img src={signup} className=\"login-svg\" />\n                </div>\n                <div className=\"login-form-div\">\n                    <div className=\"login-form-title\">\n                        <h1>Join Us!</h1>\n                    </div>\n                    <div>\n                        <form className=\"login-form\" onSubmit={handleSubmit}>\n                            <div className=\"login-form-profile\">\n                                <img src={profile_img ? URL.createObjectURL(profile_img) : defaultImg} className=\"login-form-profile-img\" />\n                                <label for=\"profile-img-input\">\n                                    <div className=\"login-form-profile-img-btn\">\n                                        Upload Image\n                                    </div>\n                                </label>\n                                <input \n                                    className=\"login-form-input-file\"\n                                    id=\"profile-img-input\"\n                                    type=\"file\"\n                                    onChange={event => {\n                                        if (event.target.files) {\n                                            console.log(event.target.files)\n                                            // set profile img to state\n                                            setImg(event.target.files[0])\n                                          }\n                                    }} \n                                />\n                            </div>\n                            <div className=\"login-form-text-fields\">\n                                <label>\n                                    <h5 className=\"login-form-first-h5\">Username:</h5>\n                                    <input \n                                        type=\"text\"\n                                        placeholder=\"Minimum 6 characters\" \n                                        value={username} \n                                        onChange={e => \n                                            setUsername(e.target.value)\n                                        } \n                                    />\n                                </label>\n                                <label>\n                                    <h5>Password:</h5>\n                                    <input \n                                        type=\"password\" \n                                        placeholder=\"Minimum 8 characters\"\n                                        value={password} \n                                        onChange={e =>\n                                            setPassword(e.target.value)\n                                        } \n                                    />\n                                </label>\n                            </div>\n                            \n                                <div className='errors-bottom'>\n                                {invalidSignup\n                                    ?\n                                    <p className=\"invalid\">Username and/or password is too short!</p>\n                                    : null\n                                }\n                                </div>\n\n                            {loading\n                                ?  \n                                <div className=\"button-secondary button-secondary-signup center-button\">\n                                    Creating Account... \n                                    <ClipLoader color='grey' loading={loading} size={15} />\n                                </div>\n                                :\n                                <button className=\"login-form-submit-btn\" type=\"submit\" value=\"Submit\">\n                                    Sign-up\n                                </button>\n                            }\n                        </form>\n                    </div>\n                    <div className=\"login-bottom\">\n                        <h5>Already have an account?</h5>\n                        <Link to='/login'>\n                            <a>Login</a>\n                        </Link>\n                    </div>\n                </div>\n            </div>\n        </motion.div>\n        </>\n    )\n}\n\nexport default SignupPage\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/Home.js",["150","151","152","153"],"import { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport hero from \"../assets/hero.png\";\nimport { motion } from \"framer-motion\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { getListings } from \"../actions/actions\";\nimport Listing from \"../components/Listing\";\nimport cardIllustration1 from \"../assets/cardIllustration1.svg\";\nimport cardIllustration2 from \"../assets/cardIllustration2.svg\";\nimport cardIllustration3 from \"../assets/cardIllustration3.svg\";\n\nconst Home = () => {\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const listings = useSelector((state) => state.listings);\n\n  useEffect(() => {\n    dispatch(getListings());\n  }, []);\n\n  return (\n    <div className=\"home-wrapper\">\n      {/* <img src={blob1} className=\"hero-blob1\" />\n        <img src={blob1} className=\"hero-blob1-filter\" />\n        <img src={blob2} className=\"hero-blob2\" />\n        <img src={blob2} className=\"hero-blob2-filter\" /> */}\n      <div className=\"hero-container\">\n        <div className=\"hero-bg-1\" />\n        <div className=\"hero-bg-2\" />\n        <div className=\"hero\">\n          <div className=\"hero-left\">\n            <motion.div\n              className=\"hero-left-text\"\n              initial={{ y: 20, opacity: 0 }}\n              animate={{ y: 0, opacity: 1 }}\n              transition={{ delay: 0.5, duration: 0.25 }}\n            >\n              <h1>Buy & Sell</h1>\n              <h1 className=\"highlight\">safely & affordably</h1>\n              <div className=\"hero-left-text-bottom\">\n                <h4>\n                  Lime Market makes it easy to buy and sell items on a safe and\n                  secure platform. Powered by the Paypal payment system, users\n                  can buy and sell items with confidence.\n                </h4>\n              </div>\n            </motion.div>\n            <button\n              className=\"hero-button\"\n              onClick={() => {\n                history.push(\"/listings\");\n              }}\n            >\n              Explore\n            </button>\n          </div>\n\n          <motion.div\n            className=\"hero-right\"\n            initial={{ y: 20, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 0.5, duration: 0.25 }}\n          >\n            <motion.img\n              src={hero}\n              className=\"hero-img\"\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.25, duration: 0.25 }}\n            />\n          </motion.div>\n        </div>\n      </div>\n\n      <motion.div\n        className=\"hero-bottom\"\n        initial={{ y: 20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n      >\n        <div className=\"hero-bottom-cards\">\n          <div className=\"hero-bottom-card\">\n            <img src={cardIllustration1} />\n            <div>\n              <h3>Find Hidden Treasures</h3>\n              <p>\n                Goods listed on Lime Market are audited for quality. You’ll find\n                the fairest prices on the web. Offerings range from clothes,\n                tech and art to more!\n              </p>\n            </div>\n          </div>\n          <div className=\"hero-bottom-card\">\n            <img src={cardIllustration2} />\n            <div>\n              <h3>Find Hidden Treasures</h3>\n              <p>\n                Goods listed on Lime Market are audited for quality. You’ll find\n                the fairest prices on the web. Offerings range from clothes,\n                tech and art to more!\n              </p>\n            </div>\n          </div>\n          <div className=\"hero-bottom-card\">\n            <img src={cardIllustration3} />\n            <div>\n              <h3>Find Hidden Treasures</h3>\n              <p>\n                Goods listed on Lime Market are audited for quality. You’ll find\n                the fairest prices on the web. Offerings range from clothes,\n                tech and art to more!\n              </p>\n            </div>\n          </div>\n        </div>\n        {/* Popular Listings */}\n        <div className=\"recent-listings\">\n          <div className=\"recent-listings-header\">\n            <h3>Recent Listings</h3>\n          </div>\n          <div className=\"recent-listings-grid\">\n            {listings.slice(-3).map((listing) => (\n              <Listing listing={listing} />\n            ))}\n          </div>\n          <motion.button\n            className=\"button-seemore\"\n            initial={{ y: 20, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 0.5, duration: 0.25 }}\n            onClick={() => {\n              history.push(\"/listings\");\n            }}\n          >\n            See More\n          </motion.button>\n        </div>\n      </motion.div>\n    </div>\n  );\n};\n\nexport default Home;\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/LoginPage.js",["154","155","156"],"import React, { useState, useContext } from 'react'\nimport { motion } from 'framer-motion'\nimport axios from 'axios'\nimport { Link, useHistory } from 'react-router-dom' \nimport loginSvg from '../assets/login.svg'\nimport ClipLoader from 'react-spinners/ClipLoader'\nimport { UserContext } from '../App'\n\nfunction LoginPage() {\n    const api = 'https://lime-market-backend.herokuapp.com'\n    const [username, setUsername] = useState('')\n    const [password, setPassword] = useState('')\n    // const [fixPassword, setFixPassword] = useState(false)\n    const [invalidLogin, setInvalidLogin] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const history = useHistory()\n    const {currentUser, setCurrentUser} = useContext(UserContext)\n    const user = sessionStorage.getItem('user')\n\n    const loginCredentials = {\n        username: username,\n        password: password,\n    }\n\n    // const fetchWatchlist = () => {\n    //     // Object.keys(user.watchlist).map(key => {\n    //     //     axios.get('${api}/listings/')\n    //     // })\n    //     let newWatchlist = [] \n    //     for (let listing in user?.watchlist) {\n    //         axios.get(`${api}/listings/${user?.watchlist[listing]}`)\n    //         .then(response => {\n    //             newWatchlist.push({\n    //                 id: response.data.id,\n    //                 img: response.data.image1,\n    //                 title: response.data.title,\n    //                 price: response.data.price\n    //             })\n    //         })\n    //     }\n    //     localStorage.setItem('watchlist', newWatchlist)\n    // }\n\n    const handleSubmit = async(e) => {\n        e.preventDefault()\n        setLoading(true)\n        \n        await axios\n            .post(`${api}/auth/`, {\n                username: `${loginCredentials.username}`,\n                password: `${loginCredentials.password}`\n            })\n            .then(async(response) => {\n                console.log(response.data.token)\n                sessionStorage.setItem('token', response.data.token)\n\n                await axios\n                    .get(`${api}/users/view/${username}`)\n                    .then((response) => {\n                        console.log(response)\n                        setCurrentUser(response.data)\n                        sessionStorage.setItem('user', JSON.stringify(response.data))\n                        console.log(currentUser)\n                    })\n                \n                setLoading(false)\n                history.goBack()\n            })\n            .catch((error) => {\n                console.log(error)\n                setInvalidLogin(true)\n                // console.log(invalidLogin)\n                setLoading(false)\n                return\n            })\n    }\n\n    const demoLogin = () => {\n        setUsername('johnlime')\n        setPassword('johnlime')\n    }\n\n    return(\n        <>\n        <motion.div className=\"page-wrapper\"\n            initial={{ y: 20, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 0.5, duration: 0.25 }}\n        >\n            <div className=\"login-div\">\n                <div className=\"login-bg\">\n                    <img src={loginSvg} className=\"login-svg\" />\n                </div>\n                <div className=\"login-form-div\">\n                    <div className=\"login-form-title\">\n                        <h1>Welcome Back!</h1>\n                    </div>\n                    <div>\n                        <form className=\"login-form\" onSubmit={handleSubmit}>\n                            <label>\n                                <h5>Username:</h5>\n                                <input \n                                    type=\"text\" \n                                    value={username} \n                                    onChange={e => \n                                        setUsername(e.target.value)\n                                    } \n                                />\n                            </label>\n                            <label>\n                                <h5>Password:</h5>\n                                <input \n                                    type=\"password\" \n                                    value={password} \n                                    onChange={e =>\n                                        setPassword(e.target.value)\n                                    } \n                                />\n                            </label>\n                            <div className='errors-bottom'>\n                                {invalidLogin \n                                    ? (<p className=\"invalid\">There is no account with those credentials.</p>)\n                                    : null\n                                }\n                            </div>\n                                {loading\n                                ?  \n                                <div className=\"button-secondary button-secondary-login center-button\">\n                                    Logging in... Please Wait\n                                    <ClipLoader color='grey' loading={loading} size={15} />\n                                </div>\n                                :  \n                                <button className=\" login-form-btn button-primary\" type=\"submit\" value=\"Submit\">\n                                    Sign-in\n                                </button>\n                                }   \n                        </form>\n                    </div>\n                    <div className=\"login-bottom\">\n                        <h5>New Here?</h5>\n                        <Link to='/register'>\n                            <a>Create an account</a>\n                        </Link>\n                    </div>\n                    <div className=\"demo-login\">\n                        <button className=\"demo-login-btn\"\n                            onClick={() => demoLogin()}\n                        >\n                            Demo Account\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </motion.div>\n        </>\n    )\n}\n\nexport default LoginPage\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ListingsPage.js",["157","158","159","160"],"import { useState, useEffect, useMemo, useCallback } from 'react'\nimport Pagination from '../pagination/Pagination'\nimport Listing from '../components/Listing'\nimport Select from 'react-select'\n\nimport { useDispatch, useSelector } from 'react-redux'\nimport {Link} from 'react-router-dom'\nimport { getListings } from '../actions/actions'\n\nimport plus from '../assets/plus.svg'\nconst ListingsPage = () => {\n  const dispatch = useDispatch()\n  const listings = useSelector(state => state.listings)\n  const [filteredListings, setFilteredListings] = useState()\n  const [currentPage, setCurrentPage] = useState(1)\n  const PageSize = 6\n\n  useEffect(() => {\n    dispatch(getListings())\n  }, [])\n\n  useEffect(() => {\n    console.log(listings)\n    // destructure listings array, assign to new const \n    // -- destructive to new const array, not original const listings\n    const reverseListings = [...listings].reverse()\n    setFilteredListings(reverseListings)\n  }, [listings])\n\n  const currentData = useMemo(() => {\n    const firstPageIndex = (currentPage - 1) * PageSize;\n    const lastPageIndex = firstPageIndex + PageSize;\n    return filteredListings?.slice(firstPageIndex, lastPageIndex);\n  }, [filteredListings, currentPage]);\n\n  // console.log(listings)\n  // console.log(filteredListings)\n  // console.log(currentData)\n\n  const [recencyFilter, setRecencyFilter] = useState('newest')\n  const [priceFilter, setPriceFilter] = useState('all')\n\n  console.log(listings)\n  console.log(recencyFilter)\n\n  const recencyOptions = [\n    { value: 'newest', label: 'Newest' },\n    { value: 'oldest', label: 'Oldest' },\n  ]\n\n  const priceOptions = [\n    { value: 'all', label: 'All' },\n    { value: 'under-50', label: 'Under $50' },\n    { value: '50-100', label: '$50-$100' },\n    { value: '100-plus', label: '$100+' }\n  ]\n\n  const selectStyles = {\n    control: (provided, state) => ({ ...provided,\n      minHeight: '35px',\n      height: '35px',\n      width: '138px',\n      border: state.isFocused ? 'solid 1px #74CD97' : 'solid 1px hsl(0, 0%, 80%)',\n      boxShadow: state.isFocused ? '0 0 0 1px #74CD97' : 'none',\n      '&:hover': {\n        borderColor: state.isFocused ? '#74CD97' : 'hsl(0, 0%, 70%)' \n      }\n    }),\n    dropdownIndicator: (provided, state) => ({ ...provided,\n      padding: '7px'\n    }),\n    option: (provided, state) => ({ ...provided,                \n      width: '138px',\n      backgroundColor: state.isSelected ? '#74CD97' : 'white',\n      color: state.isSelected ? 'white' : 'black',\n      '&:hover': {\n        backgroundColor: state.isSelected ? '#74CD97' : '#E1FAE6'\n      },\n    }),\n    menu: (provided, state) => ({ ...provided,                 \n      width: '138px'\n    })\n  };\n\n  const onFilter = () => {\n    // clone []...listings] to new let variable\n    let filteringListings = [...listings]\n    // reverse array if 'newest'\n    if (recencyFilter === 'newest'){\n      filteringListings.reverse()\n    }\n    // filter for price\n    switch (priceFilter) {\n      case 'under-50':\n        filteringListings = filteringListings.filter(listing => listing.price < 50)\n        break\n      case '50-100':\n        filteringListings = filteringListings.filter(listing => listing.price >= 50 && listing.price <= 100)\n        break\n      case '100-plus':\n        filteringListings = filteringListings.filter(listing => listing.price > 100)\n        break\n      default: \n        break\n    }\n    // setFilteredListings -- filtered array\n    return setFilteredListings(filteringListings)\n  }\n\n  return (\n      <>\n        <div className=\"listings-top\">\n          {/* For mobile */}\n          <div className=\"listings-top-button-container-mobile\">\n            <Link to='/form'>\n            <button className=\"listings-top-button-create\">\n              <img src={plus} />\n              Create Listing\n            </button>\n            </Link>\n          </div>\n          {/*  */}\n          <div className=\"listings-filters\">\n            {/* Price filter */}\n            <Select \n              options={priceOptions} \n              isSearchable={false}\n              defaultValue={{ value: 'all', label: 'All' }}\n              styles={selectStyles}\n              value={priceOptions.find(option => option.value === priceFilter)}\n              onChange={e => setPriceFilter(e.value)}\n            />\n            <span className=\"listings-filters-span\" />\n            {/* Recency filter */}\n            <Select \n              options={recencyOptions} \n              isSearchable={false}\n              defaultValue={{ value: 'newest', label: 'Newest' }}\n              styles={selectStyles}\n              value={recencyOptions.find(option => option.value === recencyFilter)}\n              onChange={e => setRecencyFilter(e.value)}\n            />\n            {/* For desktop */}\n            <button className=\"button-filter\"\n              onClick={() => onFilter()}\n            >\n              Filter\n            </button>\n            {/*  */}\n          </div>\n          {/* For desktop */}\n          <div className=\"listings-top-button-container\">\n            <Link to='/form'>\n            <button className=\"listings-top-button-create\">\n              <img src={plus} />\n              Create Listing\n            </button>\n            </Link>\n          </div>\n          {/*  */}\n          {/* For mobile */}\n          <div className=\"listings-filter-btn-container-mobile\">\n            <button className=\"button-filter-mobile\"\n              onClick={() => onFilter()}\n            >\n              Filter\n            </button>\n          </div>\n          {/*  */}\n        </div>\n        <div className=\"listings-count-container\">\n          <h3>{filteredListings?.length} Listings</h3>\n        </div>\n\n        {currentData?.length > 0\n        ? (\n        <>\n        <div className=\"listings-grid\">\n          {currentData.map(listing => \n            <Listing listing={listing} currentPage={currentPage} />\n          )}\n        </div>\n\n        <Pagination\n          className=\"pagination-bar\"\n          currentPage={currentPage}\n          totalCount={listings?.length}\n          pageSize={PageSize}\n          onPageChange={(page) => {\n            setCurrentPage(page)\n            window.scrollTo(0, 0)\n          }}\n        />\n        </>\n        )\n        : (\n        <>\n        {/* skeleton loading */}\n        <div className=\"listings-grid\">\n          {/* create array from length of PageSize and map to div element */}\n          {Array.from({length: PageSize}, (item, index) =>\n            <div className=\"listing-skeleton\">\n              <div className=\"listing-img-div skeleton skeleton-img\">\n              </div>\n              <div className=\"listing-skeleton-text\">\n                <div className=\"skeleton skeleton-text\"></div>\n                <div className=\"skeleton skeleton-text\"></div>\n                <div className=\"skeleton skeleton-text\"></div>\n                <div className=\"skeleton skeleton-text\"></div>\n                <div className=\"skeleton skeleton-text\"></div>\n                <div className=\"skeleton skeleton-text\"></div>\n              </div>\n            </div>\n          )}\n        </div>\n        </>\n        )}  \n      </>\n  )\n}\n\nexport default ListingsPage\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ListingInfoPage.js",["161","162","163","164","165","166","167","168","169","170","171","172","173","174"],"import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { Link, Redirect, useHistory, useParams } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { setCurrentListing, addComment, getListing } from \"../actions/actions\";\nimport Tooltip from \"../components/Tooltip.js\";\nimport menu from \"../assets/menu-v.svg\";\nimport deleteSvg from \"../assets/delete.svg\";\nimport loginBtnSvg from \"../assets/loginbtn.svg\";\nimport { motion, AnimateSharedLayout } from \"framer-motion\";\nimport { UserContext } from \"../App\";\nimport axios from \"axios\";\nimport LoginButton from \"../components/LoginButton\";\nimport EditMenuBackdrop from \"../components/EditMenuBackdrop\";\nimport ImageCarousel from \"../components/ImageCarousel\";\nimport { formatDistance } from \"date-fns\";\nimport Heart from \"../assets/Heart\";\n\nconst ListingInfoPage = () => {\n  const api = \"https://lime-market-backend.herokuapp.com\";\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const { currentUser, setCurrentUser, edit, setEdit } =\n    useContext(UserContext);\n  // console.log(currentUser)\n  const token = sessionStorage.getItem(\"token\");\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const { listingId } = useParams();\n  const listing = useSelector((state) => state.listing);\n  // console.log(listing)\n  const listingDate = listing?.created_at;\n  const [currentImage, setCurrentImage] = useState(null);\n  const [likes, setLikes] = useState();\n\n  const [toggleCarousel, setToggleCarousel] = useState(false);\n  const [toggleMenu, setToggleMenu] = useState(false);\n  const [toggleTooltip, setToggleTooltip] = useState(false);\n  const [deleted, setDeleted] = useState(false);\n\n  const [liked, setLiked] = useState();\n  const [isStopped, setIsStopped] = useState(true);\n  const [listingComments, setComments] = useState();\n  const [newComment, setNewComment] = useState(\"\");\n  const [deleteModalOn, setDeleteModal] = useState(false);\n\n  const getComments = async (listingId) => {\n    await axios\n      .get(`${api}/comments?listing_id=${listingId}`)\n      .then((response) => {\n        setComments(response.data);\n      });\n  };\n\n  const toggleLike = () => {\n    if (!liked) {\n      axios\n        .patch(\n          `${api}/listings/${listingId}/like`,\n          {\n            like_count: likes + 1,\n          },\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        )\n        .then(() => {\n          console.log(user?.watchlist);\n          let newWatchlist = Object.values(user?.watchlist);\n          const index = newWatchlist.length;\n          newWatchlist[index] = {\n            id: listingId,\n          };\n          return axios.patch(\n            `${api}/users/update/${user.username}`,\n            {\n              watchlist: newWatchlist,\n            },\n            {\n              headers: {\n                Authorization: `Token ${token}`,\n              },\n            }\n          );\n        })\n        .then(() => {\n          return axios\n            .get(`${api}/users/view/${user.username}`)\n            .then((response) => {\n              sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n              setCurrentUser(response.data);\n              getLikes(listingId);\n            });\n        })\n        .then(() => {\n          return axios\n            .get(`${api}/listings/${listingId}/likeCount`)\n            .then((response) => {\n              setLikes(response.data.like_count);\n              setIsStopped(!isStopped);\n              setLiked(!liked);\n            });\n        });\n    } else if (liked) {\n      axios\n        .patch(\n          `${api}/listings/${listingId}/like`,\n          {\n            like_count: likes - 1,\n          },\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        )\n        .then(() => {\n          const newWatchlist = user?.watchlist;\n          const index = newWatchlist.findIndex(\n            (l) => l.id == listingId.toString()\n          );\n          if (index > -1) {\n            newWatchlist.splice(index, 1);\n          }\n          console.log(newWatchlist);\n\n          return axios.patch(\n            `${api}/users/update/${user.username}`,\n            {\n              watchlist: newWatchlist,\n            },\n            {\n              headers: {\n                Authorization: `Token ${token}`,\n              },\n            }\n          );\n        })\n        .then(() => {\n          return axios\n            .get(`${api}/users/view/${user.username}`)\n            .then((response) => {\n              sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n              setCurrentUser(response.data);\n            });\n        })\n        .then(() => {\n          return axios\n            .get(`${api}/listings/${listingId}/likeCount`)\n            .then((response) => {\n              setLikes(response.data.like_count);\n              setIsStopped(!isStopped);\n              setLiked(!liked);\n            });\n        });\n    }\n  };\n\n  const getLikes = (listingId) => {\n    axios\n      .get(`${api}/listings/${listingId}/likeCount`)\n      .then((response) => {\n        setLikes(response.data.like_count);\n      })\n      .catch((error) => {\n        console.log(error);\n        setLikes(0);\n      });\n  };\n\n  const handleEdit = () => {\n    dispatch(setCurrentListing(listing));\n    setEdit(true);\n  };\n\n  const handleDelete = async () => {\n    await axios\n      .delete(`${api}/listings/delete/${listingId}`, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then(async () => {\n        const newList = user?.listings_created.filter(\n          (l) => l.id !== parseInt(listingId)\n        );\n\n        await axios\n          .patch(\n            `${api}/users/update/${user.username}`,\n            {\n              listings_created: newList,\n            },\n            {\n              headers: {\n                Authorization: `Token ${token}`,\n              },\n            }\n          )\n          .then(() => {\n            setDeleted(true);\n          });\n      });\n  };\n\n  const handleImage = (index) => {\n    setCurrentImage(index);\n    setToggleCarousel(true);\n  };\n\n  const handleComment = (e) => {\n    e.preventDefault();\n    dispatch(\n      addComment(\n        // comment\n        {\n          creator: user.username,\n          creator_img: user.profile_img,\n          listing: listingId,\n          content: newComment,\n        },\n        {\n          headers: {\n            Authorization: `Token ${token}`,\n          },\n        }\n      )\n    );\n    setNewComment(\"\");\n    getComments(listingId);\n    setComments([...listingComments]);\n  };\n\n  const handleCommentDelete = async (commentId) => {\n    await axios\n      .delete(`${api}/comments/delete/${commentId}`, {\n        headers: {\n          Authorization: `Token ${token}`,\n        },\n      })\n      .then(() => {\n        getComments(listingId);\n        setDeleteModal(!deleteModalOn);\n      });\n  };\n\n  const paypal = useRef();\n\n  useEffect(() => {\n    dispatch(getListing(listingId));\n    if (user) {\n      const likedBool = user?.watchlist.some(\n        (listing) => listing.id === listingId.toString()\n      );\n      setIsStopped(!likedBool);\n      setLiked(likedBool);\n    }\n    getLikes(listingId);\n    getComments(listingId);\n  }, [currentUser]);\n\n  return (\n    <>\n      {listing && (\n        <motion.div\n          className=\"page-wrapper\"\n          initial={{ y: 20, opacity: 0 }}\n          animate={{ y: 0, opacity: 1 }}\n          transition={{ delay: 0.5, duration: 0.25 }}\n        >\n          {deleted && <Redirect to=\"/listings\" />}\n\n          {/* Toggles */}\n          <Tooltip\n            content=\"Please sign-in to like and save listings\"\n            toggleTooltip={toggleTooltip}\n            setToggleTooltip={setToggleTooltip}\n          />\n          <EditMenuBackdrop\n            toggleMenu={toggleMenu}\n            setToggleMenu={setToggleMenu}\n            handleEdit={handleEdit}\n            handleDelete={handleDelete}\n          />\n          {toggleCarousel ? (\n            <ImageCarousel\n              toggleCarousel={toggleCarousel}\n              setToggleCarousel={setToggleCarousel}\n              currentImage={currentImage}\n              listing={listing}\n            />\n          ) : null}\n          {/*  */}\n\n          {/* Listing Info */}\n          <div className=\"listing-info\">\n            {listing?.creator === user?.username && (\n              <div className=\"listing-info-edit-menu\">\n                {/* Toggle EditMenu */}\n                <button\n                  className={`button-menu ${\n                    toggleMenu && \"button-menu-active\"\n                  }`}\n                  onClick={() => setToggleMenu(!toggleMenu)}\n                >\n                  <img src={menu} />\n                </button>\n\n                <div className={`edit-menu ${toggleMenu && \"edit-menu-open\"}`}>\n                  <button className=\"button-menu-edit\" onClick={handleEdit}>\n                    <h5>Edit</h5>\n                  </button>\n                  <button className=\"button-menu-delete\" onClick={handleDelete}>\n                    <h5>Delete</h5>\n                  </button>\n                </div>\n              </div>\n            )}\n\n            {edit && <Redirect to=\"/form\" />}\n            <div className=\"listing-info-img\">\n              <div className=\"listing-info-img-container\">\n                <img\n                  className=\"listing-info-img-main\"\n                  src={listing?.image1}\n                  onClick={() => handleImage(0)}\n                />\n                <div className=\"listing-info-img-side\" style={{display: listing?.image2 === undefined && 'none'}}>\n                  {listing?.image2 ? (\n                    <img\n                      className=\"listing-info-img-2\"\n                      src={listing?.image2}\n                      onClick={() => handleImage(1)}\n                    />\n                  ) : null}\n                  {listing?.image3 ? (\n                    <img\n                      className=\"listing-info-img-3\"\n                      src={listing?.image3}\n                      onClick={() => handleImage(2)}\n                    />\n                  ) : (\n                    <div className=\"listing-info-img-placeholder\"\n                         onClick={() => handleImage(0)}>\n                      View Images\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n            <div className=\"listing-info-details\">\n              <div>\n                <div className=\"listing-info-title\">\n                  <h2>{listing?.title}</h2>\n                </div>\n                <div className=\"listing-info-price\">\n                  <h2>${listing?.price}</h2>\n                </div>\n              </div>\n              <div className=\"listing-info-created\">\n                <p>\n                  {listingDate\n                    ? formatDistance(new Date(listingDate), new Date(), {\n                        addSuffix: true,\n                      })\n                    : null}\n                </p>\n              </div>\n            </div>\n\n            <div className=\"listing-info-desc\">\n              <p>{listing?.description}</p>\n            </div>\n\n            <div className=\"listing-info-actions\">\n              <div className=\"listing-like\">\n                <span\n                  className=\"listing-like-heart\"\n                  onClick={() => setLiked(!liked)}\n                >\n                  <Heart liked={liked} />\n                </span>\n                <span className=\"listing-like-text\">\n                  <h5>{likes} Likes</h5>\n                </span>\n              </div>\n              <button className=\"listing-info-buy-btn\">Buy Now</button>\n            </div>\n\n            <div className=\"listing-info-bottom\">\n              <div className=\"listing-info-creator\">\n                <div className=\"listing-info-creator-img\">\n                  <img\n                    src={listing?.creator_img}\n                    onClick={() => history.push(`/profile/${listing?.creator}`)}\n                  />\n                </div>\n                <div className=\"listing-info-creator-name\">\n                  <Link to={`/profile/${listing?.creator}`}>\n                    <h5>{listing?.creator}</h5>\n                  </Link>\n                  <h6>Seller</h6>\n                </div>\n              </div>\n            </div>\n\n            {/* Comments */}\n            <div className=\"comments-section\">\n              <div className=\"comments-show\">\n                {listingComments?.map((comment, key) => {\n                  const commentId = comment?.id;\n                  return (\n                    <div key={key} className=\"comment-comment\">\n                      {/* Delete Modal */}\n                      {deleteModalOn && (\n                        <motion.div\n                          className=\"delete-modal-backdrop\"\n                          onClick={() => setDeleteModal(!deleteModalOn)}\n                        >\n                          <motion.div\n                            className=\"delete-modal-overlay\"\n                            initial={{ opacity: 0, scale: 0 }}\n                            animate={{ opacity: 1, scale: 1 }}\n                            transition={{ duration: 0.2 }}\n                            exit={{ opacity: 0, scale: 0 }}\n                          >\n                            <motion.div>\n                              <h3>\n                                Are you sure you want to delete this comment?\n                              </h3>\n                            </motion.div>\n                            <motion.div className=\"delete-modal-overlay-bottom\">\n                              <button\n                                className=\"delete-modal-yes\"\n                                onClick={() => handleCommentDelete(commentId)}\n                              >\n                                Yes\n                              </button>\n                              <button\n                                className=\"button-secondary\"\n                                onClick={() => setDeleteModal(false)}\n                              >\n                                No\n                              </button>\n                            </motion.div>\n                          </motion.div>\n                        </motion.div>\n                      )}\n                      {/* ------------ */}\n\n                      {/* Comment delete */}\n                      {comment?.creator === user?.username && (\n                        <div className=\"comment-top-delete\">\n                          <img\n                            className=\"comment-delete-button\"\n                            onClick={() => setDeleteModal(true)}\n                            src={deleteSvg}\n                          />\n                        </div>\n                      )}\n\n                      <div className=\"comment-body\">\n                        <p>{comment?.content}</p>\n                      </div>\n\n                      <div className=\"comment-bottom\">\n                        <div className=\"comment-user\">\n                          <div className=\"comment-pic\">\n                            <Link to={`/profile/${comment?.creator}`}>\n                              <img\n                                className=\"comment-comment-img\"\n                                src={comment?.creator_img}\n                              />\n                            </Link>\n                          </div>\n                          <div className=\"comment-name\">\n                            <Link to={`/profile/${comment?.creator}`}>\n                              <h6>{comment?.creator}</h6>\n                            </Link>\n                            {comment?.creator === listing?.creator && (\n                              <h4>Seller ✓</h4>\n                            )}\n                          </div>\n                        </div>\n                        <div className=\"comment-date\">\n                          <h6>\n                            {formatDistance(\n                              new Date(comment?.date_created),\n                              new Date(),\n                              { addSuffix: true }\n                            )}\n                          </h6>\n                        </div>\n                      </div>\n                    </div>\n                  );\n                })}\n              </div>\n              <div className=\"comments-input\">\n                <form onSubmit={handleComment}>\n                  <textarea\n                    className=\"input-box\"\n                    placeholder={\n                      user\n                        ? \"Comments must be at least 10 characters long.\"\n                        : \"Please sign in to comment\"\n                    }\n                    value={newComment}\n                    onChange={(event) => {\n                      setNewComment(event.target.value);\n                    }}\n                  />\n                  {user ? (\n                    newComment.length > 9 ? (\n                      <button className=\"button-primary\" type=\"submit\">\n                        Submit\n                      </button>\n                    ) : (\n                      <div className=\"button-primary-null\">Submit</div>\n                    )\n                  ) : (\n                    <Link to=\"/login\">\n                      <button className=\"login-btn login-btn-listing-info\">\n                        <img className=\"login-btn-svg\" src={loginBtnSvg} />\n                        Sign-in\n                      </button>\n                    </Link>\n                  )}\n                </form>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      )}\n    </>\n  );\n};\n\nexport default ListingInfoPage;\n","/Users/jk/WebstormProjects/Lime-market/client/src/actions/actions.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/routes/FormPage.js",["175"],"import {useState, useEffect} from 'react'\nimport ListingForm from '../components/ListingForm'\n\nimport { motion } from 'framer-motion'\nimport PropagateLoader from \"react-spinners/PropagateLoader\";\nimport { useHistory } from 'react-router';\n\nconst FormPage = () => {\n    const user = JSON.parse(sessionStorage.getItem('user'))\n    const history = useHistory()\n    const [redirectOn, toggleRedirect] = useState(false)\n    const redirectToLogin = () => {\n        setTimeout(() => {\n            history.push('/login')\n        }, 2500)\n    }\n\n    useEffect(() => {\n        !user &&\n        setTimeout(() => {\n            toggleRedirect(true)\n        }, 2500)\n    }, [])\n\n    return (\n        <>\n        {\n            redirectOn && \n            (\n            <>\n            <div className=\"login-modal-listingform-backdrop\">\n                <div className=\"login-modal-listingform\">\n                    <h6>\n                        You need to be logged in to create a listing!\n                    <br />\n                    <br />\n                        Redirecting to login page...\n                    </h6>\n                    <br />\n                    \n                        <PropagateLoader color='#A5E9C0' loading={true} size={15} />\n                    <br />\n                    \n\n\n                    {redirectToLogin()}\n                </div>\n            </div>\n            </>\n            )\n        }\n        <motion.div className=\"form-grid\"\n            initial={{ y: 20, opacity: 0 }}\n            animate={{ y: 0, opacity: 1 }}\n            transition={{ delay: 0.5, duration: 0.25 }}\n        >\n            <ListingForm ></ListingForm>\n        </motion.div>\n        </>\n    )\n}\n\nexport default FormPage\n","/Users/jk/WebstormProjects/Lime-market/client/src/routes/ProfilePage.js",["176","177"],"import { useState, useEffect } from 'react';\nimport { useParams } from 'react-router';\nimport Listing from '../components/Listing'\n\nimport { motion, AnimateSharedLayout} from 'framer-motion'\nimport axios from 'axios';\n\nconst Profile = () => {\n  const api = 'https://lime-market-backend.herokuapp.com'\n  const { userId } = useParams()\n  const [userImg, setUserImg] = useState('')\n  const [userListings, setUserListings] = useState([])\n\n  useEffect(() => {\n    axios.get(`${api}/users/view/${userId}`)\n      .then(response => {\n        console.log(response)\n        setUserImg(response.data.profile_img)\n        setUserListings(response.data.listings_created)\n      })\n  }, [])\n\n  return (\n    <div className=\"profile-info-container\">\n      <motion.div className=\"profile-info\"\n        initial={{ y: 20, opacity: 0 }}\n        animate={{ y: 0, opacity: 1 }}\n        exit={{ y: -20, opacity: 0 }}\n        transition={{ delay: 0.5, duration: 0.25 }}\n      >\n        <div className=\"profile-info-bg\">\n          <div className=\"profile-info-img\">\n            <img src={userImg} alt={userId} />\n          </div>\n          <div className=\"profile-info-name\">\n            <h2>{userId}</h2>\n            <h5>Member since 2021</h5>\n          </div>\n        </div>\n        <div className=\"profile-info-bottom\">\n          <div className=\"profile-info-listings-label\">\n            <h2>I'm selling:</h2>\n          </div>\n          <div className=\"profile-info-listings-cards\">\n            {userListings.map(userListing => \n              <Listing listing={userListing} />\n            )}\n            { (userListings.length === 0) && \n              <p>No listings yet!</p>\n            }\n          </div>\n        </div>\n      </motion.div>\n    </div>\n  )\n}\n\nexport default Profile","/Users/jk/WebstormProjects/Lime-market/client/src/components/Tooltip.js",["178"],"import \"../css/Tooltip.css\";\nimport loginPlease from '../assets/loginplease.svg'\nimport {Link} from 'react-router-dom'\n\nexport default function Tooltip({ content, toggleTooltip, setToggleTooltip }) {\n    const toggle = () => {\n        setToggleTooltip(!toggleTooltip);\n    };\n    \n    return (\n        <>\n            <div className={`modal-backdrop ${toggleTooltip && \"modal-backdrop-show\"}`} onClick={toggle}>\n                <div className={`tooltip-content ${toggleTooltip && \"tooltip-content-open\"}`}>\n                    <p>{content}</p>\n                    <img src={loginPlease} />\n                    <Link to=\"/login\">\n                        <button className=\"button-primary\">\n                            Sign-in\n                        </button>\n                    </Link>\n                </div>\n            </div>\n        </>\n  );\n}","/Users/jk/WebstormProjects/Lime-market/client/src/reducers/listing.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/reducers/comments.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/reducers/currentListing.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/reducers/listings.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/components/LogoutButton.js",["179"],"import { useAuth0 } from \"@auth0/auth0-react\";\n\nconst LogoutButton = (props) => {\n  return (\n    <button className=\"logout-btn\" onClick={props.logoutAll}>\n      Log Out\n    </button>\n  );\n};\n\nexport default LogoutButton;","/Users/jk/WebstormProjects/Lime-market/client/src/components/LoginButton.js",["180"],"import { Link } from 'react-router-dom'\nimport loginBtnSvg from \"../assets/loginbtn.svg\"\n\nconst LoginButton = () => {\n    \n    return (\n        <Link to='/login'>\n            <button className=\"login-btn\">\n                <img className=\"login-btn-svg\" src={loginBtnSvg} />\n                Sign-in\n            </button>\n        </Link>\n    )\n}\n\nexport default LoginButton\n","/Users/jk/WebstormProjects/Lime-market/client/src/components/MenuButton.js",["181","182"],"import { motion } from \"framer-motion\";\nimport React from \"react\";\n\nconst Path = (props) => (\n  <motion.path\n    fill=\"transparent\"\n    strokeLinecap=\"round\"\n    strokeWidth=\"4\"\n    {...props}\n  />\n);\n\nconst transition = { duration: 0.5, ease: \"easeIn\" };\n\nconst MenuButton = ({ toggle, profileOpen }) => {\n  return (\n    <div className=\"mobile-menu-button\" onClick={toggle}>\n      {/* <svg\n        width=\"35\"\n        height=\"35\"\n        viewBox=\"0 0 60 60\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      > */}\n      {/* <motion.rect\n          width=\"60\"\n          height=\"60\"\n          rx=\"30\"\n          animate={profileOpen ? \"open\" : \"closed\"}\n          initial={false}\n          variants={{\n            closed: { fill: \"#74CD97\" },\n            open: { fill: \"white\" },\n          }}\n          transition={transition}\n        /> */}\n      {/* <motion.rect\n          x=\"14\"\n          y=\"17\"\n          width=\"31\"\n          height=\"4\"\n          rx=\"2\"\n          animate={profileOpen ? \"open\" : \"closed\"}\n          initial={false}\n          variants={{\n            closed: { fill: \"rgba(0, 12, 115, 1)\" },\n            open: { fill: \"#74CD97\" },\n          }}\n          transition={transition}\n        />\n        <motion.rect\n          x=\"14\"\n          y=\"28\"\n          width=\"31\"\n          height=\"4\"\n          rx=\"2\"\n          animate={profileOpen ? \"open\" : \"closed\"}\n          initial={false}\n          variants={{\n            closed: { fill: \"rgba(0, 12, 115, 1)\" },\n            open: { fill: \"#74CD97\" },\n          }}\n          transition={transition}\n        />\n        <motion.rect\n          x=\"14\"\n          y=\"39\"\n          width=\"31\"\n          height=\"4\"\n          rx=\"2\"\n          animate={profileOpen ? \"open\" : \"closed\"}\n          initial={false}\n          variants={{\n            closed: { fill: \"rgba(0, 12, 115, 1)\" },\n            open: { fill: \"#74CD97\" },\n          }}\n          transition={transition}\n        /> */}\n      {/* </svg> */}\n      {/* <svg width=\"23\" height=\"23\" viewBox=\"0 0 23 23\">\n          <Path\n            animate={profileOpen ? \"open\" : \"closed\"}\n            initial={false}\n            variants={{\n              closed: { d: \"M 2 2.5 L 20 2.5\", stroke: \"hsl(0, 0%, 18%)\" },\n              open: { d: \"M 3 16.5 L 17 2.5\", stroke: \"hsl(0, 0%, 18%)\" },\n            }}\n            transition={transition}\n          />\n          <Path\n            d=\"M 2 9.423 L 20 9.423\"\n            stroke=\"hsl(0, 0%, 18%)\"\n            animate={profileOpen ? \"open\" : \"closed\"}\n            initial={false}\n            variants={{\n              closed: { opacity: 1 },\n              open: { opacity: 0 },\n            }}\n            transition={transition}\n          />\n          <Path\n            animate={profileOpen ? \"open\" : \"closed\"}\n            initial={false}\n            variants={{\n              closed: { d: \"M 2 16.346 L 20 16.346\", stroke: \"hsl(0, 0%, 18%)\" },\n              open: { d: \"M 3 2.5 L 17 16.346\", stroke: \"hsl(0, 0%, 18%)\" },\n            }}\n            transition={transition}\n          />\n        </svg> */}\n      <span />\n      <span />\n      <span />\n    </div>\n  );\n};\n\nexport default MenuButton;\n","/Users/jk/WebstormProjects/Lime-market/client/src/components/Listing.js",["183","184","185","186"],"/Users/jk/WebstormProjects/Lime-market/client/src/components/ListingForm.js",["187","188","189","190","191","192","193","194","195","196","197","198"],"import React, { useState, useEffect, useContext } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport priceTagSvg from \"../assets/pricetag.svg\";\nimport ClipLoader from \"react-spinners/ClipLoader\";\n\nimport { setCurrentListing } from \"../actions/actions\";\nimport axios from \"axios\";\nimport { UserContext } from \"../App\";\n\nconst ListingForm = () => {\n  const api = 'https://lime-market-backend.herokuapp.com'\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const user = JSON.parse(sessionStorage.getItem(\"user\"));\n  const token = sessionStorage.getItem(\"token\");\n  const [listingData, setListingData] = useState({\n    title: \"\",\n    price: 0,\n    description: \"\",\n  });\n  const [listingImages, setListingImages] = useState({});\n  console.log(listingData);\n  console.log(listingImages);\n  const [loading, setLoading] = useState(false);\n\n  // const [files, setFiles] = useState({})\n  // console.log(files)\n  const currentListing = useSelector((state) => state.currentListing);\n  console.log(currentListing);\n  const [currentListingImages, setCurrentListingImages] = useState();\n  const listingId = currentListing?.id;\n  const dispatch = useDispatch();\n  const [redirect, setRedirect] = useState(false);\n  const [redirectId, setRedirectId] = useState(\"\");\n\n  const [errors, setErrors] = useState({\n    title: \"\",\n    price: \"\",\n    description: \"\",\n    image: \"\",\n  });\n  console.log(errors);\n  // useEffect(() => {\n  //     currentListing &&\n  //     setRedirectId(currentListing)\n  //     setListingData({ ...listingData, title: listing?.title, description: listing?.description, price: listing?.price, selectedFile: listing?.selectedFile })\n  // }, [currentListing])\n\n  const clear = () => {\n    dispatch(setCurrentListing([]));\n    setListingData({ title: \"\", description: \"\", price: \"\", selectedFile: \"\" });\n  };\n\n  const validate = () => {\n    // Error checks\n    let titleError = null;\n    let priceError = null;\n    let descriptionError = null;\n    let imageError = null;\n\n    if (listingData.title.length < 5) {\n      titleError = \"Title must be at least 5 characters long\";\n    }\n    if (parseInt(listingData.price) < 1 || listingData.price.length === 0) {\n      priceError = \"Price must be at least $1 (dollar)\";\n    }\n    if (\n      (listingData.description.length < 10) |\n      (listingData.description.length > 250)\n    ) {\n      descriptionError =\n        \"Description must be between 10 and 250 characters long\";\n    }\n    if (listingImages.length < 1) {\n      imageError = \"At least one image must be uploaded\";\n    }\n    if (titleError || priceError || descriptionError || imageError) {\n      setErrors({\n        title: titleError,\n        price: priceError,\n        description: descriptionError,\n        image: imageError,\n      });\n      return false;\n    }\n\n    return true;\n  };\n  // const axiosInstance = axios.create({\n  //     timeout: 5000,\n  //     headers: {\n  //         ,\n  //         Accept: '*/*',\n  //     },\n  // })\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    setLoading(true);\n    validate()\n    let formData = new FormData();\n    formData.append(\"title\", listingData.title);\n    formData.append(\"description\", listingData.description);\n    formData.append(\"price\", parseInt(listingData.price));\n    for (let image in listingImages) {\n      formData.append(`image${parseInt(image) + 1}`, listingImages[image]);\n    }\n\n    // formData.append('image1', listingImages.image1)\n    // formData.append('image2', listingImages.image2)\n    // formData.append('image3', listingImages.image3)\n    // formData.append('image4', listingImages.image4)\n    formData.append(\"creator\", user?.username);\n    formData.append(\"creator_img\", user?.profile_img);\n\n    const updatedListings = currentUser?.listings_created.filter(\n      (listing) => listing.id !== listingId\n    );\n\n    if (currentListing.length === 0) {\n      // Create\n      axios\n        .post(`${api}/listings/create`, formData, {\n          headers: {\n            Authorization: `Token ${token}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        })\n        .then(async (response) => {\n          console.log(response);\n          setRedirectId(response.data.id);\n          const userListings = [...user?.listings_created, response.data];\n          await axios.patch(\n            `${api}/users/update/${user?.username}`,\n            {\n              listings_created: userListings,\n            },\n            {\n              headers: {\n                Authorization: `Token ${token}`,\n              },\n            }\n          );\n        })\n        .then(() => {\n          clear();\n          setLoading(false);\n          setRedirect(true);\n        })\n        .catch((error) => {\n          setLoading(false);\n        });\n    } else {\n      // Edit\n      // Remove listing to edit from user data listings_created\n      axios\n        .patch(\n          `${api}/users/update/${user?.username}`,\n          {\n            listings_created: updatedListings,\n          },\n          {\n            headers: {\n              Authorization: `Token ${token}`,\n            },\n          }\n        )\n        // .then(async() => {\n        //     await axios.get(`${api}/users/view/${user?.username}`)\n        // })\n        .then(async (response) => {\n          console.log(response);\n          console.log(user);\n          await axios\n            .patch(\n              `${api}/listings/update/${listingId}`,\n              formData,\n              {\n                headers: {\n                  Authorization: `Token ${token}`,\n                  \"Content-Type\": \"multipart/form-data\",\n                },\n              }\n            )\n            .then(async (response) => {\n              console.log(response);\n              // setRedirectId(response.data.id.toString())\n              const userListings = [...updatedListings, response.data];\n              await axios\n                .patch(\n                  `${api}/users/update/${user?.username}`,\n                  {\n                    listings_created: userListings,\n                  },\n                  {\n                    headers: {\n                      Authorization: `Token ${token}`,\n                    },\n                  }\n                )\n                .then((response) => {\n                  sessionStorage.setItem(\"user\", JSON.stringify(response.data));\n                  setRedirectId(listingId);\n                })\n                .then(() => {\n                  clear();\n                  setCurrentUser(JSON.parse(sessionStorage.getItem(\"user\")));\n                  setLoading(false);\n                  setRedirect(true);\n                  // window.location.reload()\n                });\n            });\n        })\n        .catch((error) => {\n          setLoading(false);\n          console.log(error.message)\n        });\n    }\n  };\n\n  // function checkFiles(files) {   \n  //   console.log(files)    \n  //   if(files.length>3) {\n  //       alert(\"length exceeded; files have been truncated\");\n\n  //       let list = new DataTransfer;\n  //       for(let i=0; i<10; i++)\n  //          list.items.add(files[i]) \n\n  //       document.getElementById('files').files = list.files\n  //   }       \n  // }\n\n  useEffect(() => {\n    if (currentListing.length !== 0) {\n      let imageURLs = [\n        currentListing?.image1,\n        currentListing?.image2,\n        currentListing?.image3,\n      ];\n      imageURLs = imageURLs.filter((el) => el !== null);\n      console.log(imageURLs);\n      let images = {};\n      imageURLs?.forEach(async (el, i) => {\n        const imgURL = await fetch(el);\n        console.log(imgURL);\n        const blob = await imgURL.blob();\n        console.log(blob);\n        const fileName = el?.slice(el.lastIndexOf(\"/\") + 1);\n        console.log(fileName);\n        const file = new File([blob], fileName, { type: blob.type });\n        images[i] = file;\n        console.log(images);\n      });\n      // set listingImages state to images object from above\n      setListingImages(images);\n      console.log(listingImages);\n      setListingData({\n        title: currentListing?.title,\n        price: currentListing?.price,\n        description: currentListing?.description,\n      });\n      setCurrentListingImages({\n        image1: currentListing?.image1,\n        image2: currentListing?.image2,\n        image3: currentListing?.image3,\n      });\n    }\n  }, []);\n\n  return (\n    <>\n    <div className=\"form\">\n      <div className=\"form-top\">\n        <img className=\"form-svg-top\" src={priceTagSvg}></img>\n      </div>\n      <div className=\"form-form\">\n        <h1>{currentListing.length !== 0 ? `Edit` : `Create`} Listing</h1>\n        {redirect && <Redirect to={`/listings/${redirectId}`} />}\n        <form>\n          {/* Title */}\n          <label for=\"title\">\n            <h4>Title:</h4>\n          </label>\n          <input\n            className=\"form-title-input\"\n            id=\"title\"\n            name=\"title\"\n            type=\"text\"\n            value={listingData.title}\n            onChange={(e) =>\n              setListingData({ ...listingData, title: e.target.value })\n            }\n          />\n          <div className=\"error-div\">\n            {<p className=\"error\">{errors.title}</p>}\n          </div>\n\n          {/* Price */}\n          <label for=\"price\">\n            <h4>Price:</h4>\n          </label>\n          <div className=\"form-input\">\n            <h2>$</h2>\n            <input\n              className=\"form-price-input\"\n              id=\"price\"\n              name=\"price\"\n              type=\"number\"\n              placeholder=\"Price\"\n              value={listingData.price}\n              onChange={(e) =>\n                setListingData({ ...listingData, price: e.target.value })\n              }\n            />\n          </div>\n          <div className=\"error-div\">\n            {<p className=\"error\">{errors.price}</p>}\n          </div>\n\n          {/* Description */}\n          <label for=\"description\">\n            <h4>Description:</h4>\n          </label>\n          <textarea\n            className=\"form-desc-textarea\"\n            id=\"description\"\n            name=\"description\"\n            value={listingData.description}\n            onChange={(e) =>\n              setListingData({ ...listingData, description: e.target.value })\n            }\n          />\n          <div className=\"error-div\">\n            {<p className=\"error\">{errors.description}</p>}\n          </div>\n\n          {/* Image File Upload */}\n          <label for=\"files\">\n            <h4>Images: (Select up to 3 images)</h4>\n          </label>\n          <input\n            className=\"file-input\"\n            type=\"file\"\n            id=\"files\"\n            name=\"files\"\n            accept=\"image/png, image/jpeg\"\n            multiple\n            data-max-files=\"3\"\n            onChange={(event) => {\n              if (Array.from(event.target.files).length > 3) {\n                event.preventDefault();\n                alert(`Cannot upload more than 3 images. Please try again.`);\n                return;\n              }\n              console.log(event.target.files);\n              if (currentListing) {\n                console.log(\"dispatched\");\n                setCurrentListingImages({\n                  image1: null,\n                  image2: null,\n                  image3: null,\n                });\n                console.log(currentListing);\n              }\n              if (event.target.files) {\n                // Empty array to remove previous files onchange\n                listingImages.length = 0;\n                // initialize empty images object\n                let images = {};\n                // add imgfiles to images object\n                for (let file in event.target.files) {\n                  images[file] = event.target.files[file];\n                }\n                // set listingImages state to images object from above\n                setListingImages(images);\n                console.log(listingImages);\n              }\n            }}\n          />\n          <div className=\"error-div\">\n            {<p className=\"error\">{errors.image}</p>}\n          </div>\n\n          {/* Files Preview Div */}\n\n          <h4>Image Preview:</h4>\n          <div className=\"form-files\">\n            {listingImages[0] ? (\n              <img\n                className=\"files-img\"\n                src={URL.createObjectURL(listingImages[0])}\n              />\n            ) : currentListingImages?.image1 ? (\n              <img className=\"files-img\" src={currentListingImages?.image1} />\n            ) : <img className=\"files-img\" src=\"https://limemarketstatic.s3.us-west-1.amazonaws.com/media/patternpad.jpeg\" />}\n            {listingImages[1] ? (\n              <img\n                className=\"files-img\"\n                src={URL.createObjectURL(listingImages[1])}\n              />\n            ) : currentListingImages?.image2 ? (\n              <img className=\"files-img\" src={currentListingImages?.image2} />\n            ) : <img className=\"files-img\" src=\"https://limemarketstatic.s3.us-west-1.amazonaws.com/media/patternpad.jpeg\" />}\n            {listingImages[2] ? (\n              <img\n                className=\"files-img\"\n                src={URL.createObjectURL(listingImages[2])}\n              />\n            ) : currentListingImages?.image3 ? (\n              <img className=\"files-img\" src={currentListingImages?.image3} />\n            ) : <img className=\"files-img\" src=\"https://limemarketstatic.s3.us-west-1.amazonaws.com/media/patternpad.jpeg\" />}\n          </div>\n\n          {/* <input type=\"file\" multiple={true} onChange={(event) => setListingData({ ...listingData, selectedFile: event.target.files[0] })}></input> */}\n              \n          { \n            loading\n            ?\n            <div className=\"button-secondary center-button\">\n              {currentListing.length !== 0 ? `Editing...` : `Creating...`} Please Wait\n              <ClipLoader color=\"grey\" loading={loading} size={15} />\n            </div>\n            :\n            <button\n            className=\"button-primary\"\n            type=\"submit\"\n            style={{ marginTop: 25 }}\n            onClick={handleSubmit}\n            >\n              Submit\n            </button>\n          }\n          \n        </form>\n      </div>\n      <div className=\"form-bg\">\n        <img className=\"form-svg\" src={priceTagSvg}></img>\n      </div>\n    </div>\n    </>\n  );\n};\n\nexport default ListingForm;\n","/Users/jk/WebstormProjects/Lime-market/client/src/components/ImageCarousel.js",["199","200","201","202","203","204"],"import {useState, useEffect} from 'react'\nimport {motion, AnimatePresence} from 'framer-motion'\nimport left from '../assets/leftarrow.svg'\nimport right from '../assets/rightarrow.svg'\nimport { useSwipeable } from \"react-swipeable\";\n\nfunction ImageCarousel({toggleCarousel, setToggleCarousel, currentImage, listing}) {\n    const [activeIndex, setActiveIndex] = useState(currentImage)\n    const listingImages = [\n        listing?.image1, \n        listing?.image2,\n        listing?.image3\n    ]\n    const listingCount = listingImages?.filter(l => l !== null).length\n    console.log(listingImages)\n\n    const updateIndex = (newIndex) => {\n        if (newIndex < 0) {\n            newIndex = listingCount - 1;\n        } else if (newIndex >= listingCount) {\n            newIndex = 0;\n        }\n\n        setActiveIndex(newIndex);\n    };\n\n    const handlers = useSwipeable({\n        onSwipedLeft: () => updateIndex(activeIndex + 1),\n        onSwipedRight: () => updateIndex(activeIndex - 1)\n    });\n\n    return (\n        <>\n            <AnimatePresence>\n            <motion.div className=\"carousel-backdrop\"\n                initial={{ opacity: 0 }}\n                animate={{ opacity: 1 }}\n                exit={{ opacity: 0 }}\n            >\n                <img\n                    className=\"carousel-arrow carousel-arrow-left\"\n                    onClick={() => {\n                        updateIndex(activeIndex - 1);\n                    }}\n                    src={left}\n                />\n                <img\n                    className=\"carousel-arrow carousel-arrow-right\"\n                    onClick={() => {\n                        updateIndex(activeIndex + 1);\n                    }}\n                    src={right}\n                />\n                <motion.div className=\"carousel-wrapper\"\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0, opacity: 0 }}\n                    transition={{ type: 'spring', bounce: 0.25 }} \n                    {...handlers}  \n                >\n                    <div \n                        className=\"carousel-inner\"\n                        style={{ transform: `translateX(-${activeIndex * 100}%)` }}\n                    >   \n                        {listing?.image1\n                            ?\n                            <div className=\"carousel-item\">\n                                <img src={listing?.image1} className=\"carousel-img\"/>\n                            </div>\n                            : null\n                        }\n                        {listing?.image2\n                            ?\n                            <div className=\"carousel-item\">\n                                <img src={listing?.image2} className=\"carousel-img\"/>\n                            </div>\n                            : null\n                        }\n                        {listing?.image3\n                            ?\n                            <div className=\"carousel-item\">\n                                <img src={listing?.image3} className=\"carousel-img\"/>\n                            </div>\n                            : null\n                        }\n                    </div>\n                </motion.div>\n                <motion.div className=\"carousel-pagin\"\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0, opacity: 0 }}\n                    transition={{ type: 'spring', bounce: 0.25 }} \n                >\n                    {listingImages?.filter(l => l !== null).map((l, i) => {\n                        return (\n                            <button\n                                className={`carousel-pagin-button ${i === activeIndex ? \"carousel-pagin-button-active\" : \"\"}`}\n                                onClick={() => {\n                                    updateIndex(i);\n                                }}\n                            >\n                            </button>\n                        );\n                    })}\n                </motion.div>\n                <motion.div className=\"carousel-close\"\n                    initial={{ scale: 0, opacity: 0 }}\n                    animate={{ scale: 1, opacity: 1 }}\n                    exit={{ scale: 0, opacity: 0 }}\n                    transition={{ type: 'spring', bounce: 0.25 }} \n                >\n                    <button \n                        className=\"carousel-close-button\"\n                        onClick={() => setToggleCarousel(!toggleCarousel)}\n                    >\n                        Close\n                    </button>\n                </motion.div>\n            </motion.div>\n            </AnimatePresence>\n        </>\n    )\n}\n\nexport default ImageCarousel\n","/Users/jk/WebstormProjects/Lime-market/client/src/components/EditMenuBackdrop.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/pagination/Pagination.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/api/api.js",[],"/Users/jk/WebstormProjects/Lime-market/client/src/assets/Heart.jsx",[],"/Users/jk/WebstormProjects/Lime-market/client/src/pagination/usePagination.js",[],{"ruleId":"205","replacedBy":"206"},{"ruleId":"207","replacedBy":"208"},{"ruleId":"209","severity":1,"message":"210","line":36,"column":15,"nodeType":"211","endLine":42,"endColumn":6},{"ruleId":"209","severity":1,"message":"212","line":42,"column":8,"nodeType":"213","endLine":42,"endColumn":18,"suggestions":"214"},{"ruleId":"215","severity":1,"message":"216","line":3,"column":18,"nodeType":"217","messageId":"218","endLine":3,"endColumn":37},{"ruleId":"215","severity":1,"message":"219","line":12,"column":8,"nodeType":"217","messageId":"218","endLine":12,"endColumn":12},{"ruleId":"215","severity":1,"message":"220","line":18,"column":9,"nodeType":"217","messageId":"218","endLine":18,"endColumn":12},{"ruleId":"221","severity":1,"message":"222","line":99,"column":23,"nodeType":"223","endLine":102,"endColumn":25},{"ruleId":"221","severity":1,"message":"222","line":150,"column":23,"nodeType":"223","endLine":150,"endColumn":74},{"ruleId":"221","severity":1,"message":"222","line":181,"column":21,"nodeType":"223","endLine":185,"endColumn":23},{"ruleId":"224","severity":1,"message":"225","line":264,"column":23,"nodeType":"226","messageId":"227","endLine":264,"endColumn":25},{"ruleId":"209","severity":1,"message":"228","line":317,"column":6,"nodeType":"213","endLine":317,"endColumn":19,"suggestions":"229"},{"ruleId":"215","severity":1,"message":"230","line":11,"column":12,"nodeType":"217","messageId":"218","endLine":11,"endColumn":23},{"ruleId":"221","severity":1,"message":"222","line":87,"column":21,"nodeType":"223","endLine":87,"endColumn":63},{"ruleId":"221","severity":1,"message":"222","line":96,"column":33,"nodeType":"223","endLine":96,"endColumn":141},{"ruleId":"231","severity":1,"message":"232","line":164,"column":29,"nodeType":"223","endLine":164,"endColumn":32},{"ruleId":"209","severity":1,"message":"233","line":19,"column":6,"nodeType":"213","endLine":19,"endColumn":8,"suggestions":"234"},{"ruleId":"221","severity":1,"message":"222","line":82,"column":13,"nodeType":"223","endLine":82,"endColumn":44},{"ruleId":"221","severity":1,"message":"222","line":93,"column":13,"nodeType":"223","endLine":93,"endColumn":44},{"ruleId":"221","severity":1,"message":"222","line":104,"column":13,"nodeType":"223","endLine":104,"endColumn":44},{"ruleId":"215","severity":1,"message":"235","line":18,"column":11,"nodeType":"217","messageId":"218","endLine":18,"endColumn":15},{"ruleId":"221","severity":1,"message":"222","line":92,"column":21,"nodeType":"223","endLine":92,"endColumn":65},{"ruleId":"231","severity":1,"message":"232","line":142,"column":29,"nodeType":"223","endLine":142,"endColumn":32},{"ruleId":"215","severity":1,"message":"236","line":1,"column":40,"nodeType":"217","messageId":"218","endLine":1,"endColumn":51},{"ruleId":"209","severity":1,"message":"233","line":20,"column":6,"nodeType":"213","endLine":20,"endColumn":8,"suggestions":"237"},{"ruleId":"221","severity":1,"message":"222","line":117,"column":15,"nodeType":"223","endLine":117,"endColumn":33},{"ruleId":"221","severity":1,"message":"222","line":155,"column":15,"nodeType":"223","endLine":155,"endColumn":33},{"ruleId":"215","severity":1,"message":"216","line":9,"column":18,"nodeType":"217","messageId":"218","endLine":9,"endColumn":37},{"ruleId":"215","severity":1,"message":"238","line":12,"column":8,"nodeType":"217","messageId":"218","endLine":12,"endColumn":19},{"ruleId":"215","severity":1,"message":"239","line":53,"column":9,"nodeType":"217","messageId":"218","endLine":53,"endColumn":19},{"ruleId":"224","severity":1,"message":"225","line":120,"column":25,"nodeType":"226","messageId":"227","endLine":120,"endColumn":27},{"ruleId":"215","severity":1,"message":"240","line":247,"column":9,"nodeType":"217","messageId":"218","endLine":247,"endColumn":15},{"ruleId":"209","severity":1,"message":"241","line":260,"column":6,"nodeType":"213","endLine":260,"endColumn":19,"suggestions":"242"},{"ruleId":"221","severity":1,"message":"222","line":306,"column":19,"nodeType":"223","endLine":306,"endColumn":37},{"ruleId":"221","severity":1,"message":"222","line":323,"column":17,"nodeType":"223","endLine":327,"endColumn":19},{"ruleId":"221","severity":1,"message":"222","line":330,"column":21,"nodeType":"223","endLine":334,"endColumn":23},{"ruleId":"221","severity":1,"message":"222","line":337,"column":21,"nodeType":"223","endLine":341,"endColumn":23},{"ruleId":"221","severity":1,"message":"222","line":393,"column":19,"nodeType":"223","endLine":396,"endColumn":21},{"ruleId":"221","severity":1,"message":"222","line":454,"column":27,"nodeType":"223","endLine":458,"endColumn":29},{"ruleId":"221","severity":1,"message":"222","line":470,"column":31,"nodeType":"223","endLine":473,"endColumn":33},{"ruleId":"221","severity":1,"message":"222","line":524,"column":25,"nodeType":"223","endLine":524,"endColumn":76},{"ruleId":"209","severity":1,"message":"243","line":23,"column":8,"nodeType":"213","endLine":23,"endColumn":10,"suggestions":"244"},{"ruleId":"215","severity":1,"message":"216","line":5,"column":18,"nodeType":"217","messageId":"218","endLine":5,"endColumn":37},{"ruleId":"209","severity":1,"message":"245","line":21,"column":6,"nodeType":"213","endLine":21,"endColumn":8,"suggestions":"246"},{"ruleId":"221","severity":1,"message":"222","line":15,"column":21,"nodeType":"223","endLine":15,"endColumn":46},{"ruleId":"215","severity":1,"message":"247","line":1,"column":10,"nodeType":"217","messageId":"218","endLine":1,"endColumn":18},{"ruleId":"221","severity":1,"message":"222","line":9,"column":17,"nodeType":"223","endLine":9,"endColumn":68},{"ruleId":"215","severity":1,"message":"248","line":4,"column":7,"nodeType":"217","messageId":"218","endLine":4,"endColumn":11},{"ruleId":"215","severity":1,"message":"249","line":13,"column":7,"nodeType":"217","messageId":"218","endLine":13,"endColumn":17},{"ruleId":"215","severity":1,"message":"239","line":24,"column":9,"nodeType":"217","messageId":"218","endLine":24,"endColumn":19},{"ruleId":"224","severity":1,"message":"225","line":94,"column":25,"nodeType":"226","messageId":"227","endLine":94,"endColumn":27},{"ruleId":"209","severity":1,"message":"250","line":146,"column":6,"nodeType":"213","endLine":146,"endColumn":32,"suggestions":"251"},{"ruleId":"221","severity":1,"message":"222","line":158,"column":11,"nodeType":"223","endLine":163,"endColumn":13},{"ruleId":"209","severity":1,"message":"252","line":269,"column":6,"nodeType":"213","endLine":269,"endColumn":8,"suggestions":"253"},{"ruleId":"221","severity":1,"message":"222","line":275,"column":9,"nodeType":"223","endLine":275,"endColumn":57},{"ruleId":"221","severity":1,"message":"222","line":390,"column":15,"nodeType":"223","endLine":393,"endColumn":17},{"ruleId":"221","severity":1,"message":"222","line":395,"column":15,"nodeType":"223","endLine":395,"endColumn":79},{"ruleId":"221","severity":1,"message":"222","line":396,"column":17,"nodeType":"223","endLine":396,"endColumn":126},{"ruleId":"221","severity":1,"message":"222","line":398,"column":15,"nodeType":"223","endLine":401,"endColumn":17},{"ruleId":"221","severity":1,"message":"222","line":403,"column":15,"nodeType":"223","endLine":403,"endColumn":79},{"ruleId":"221","severity":1,"message":"222","line":404,"column":17,"nodeType":"223","endLine":404,"endColumn":126},{"ruleId":"221","severity":1,"message":"222","line":406,"column":15,"nodeType":"223","endLine":409,"endColumn":17},{"ruleId":"221","severity":1,"message":"222","line":411,"column":15,"nodeType":"223","endLine":411,"endColumn":79},{"ruleId":"221","severity":1,"message":"222","line":412,"column":17,"nodeType":"223","endLine":412,"endColumn":126},{"ruleId":"221","severity":1,"message":"222","line":438,"column":9,"nodeType":"223","endLine":438,"endColumn":53},{"ruleId":"215","severity":1,"message":"254","line":1,"column":19,"nodeType":"217","messageId":"218","endLine":1,"endColumn":28},{"ruleId":"221","severity":1,"message":"222","line":40,"column":17,"nodeType":"223","endLine":46,"endColumn":19},{"ruleId":"221","severity":1,"message":"222","line":47,"column":17,"nodeType":"223","endLine":53,"endColumn":19},{"ruleId":"221","severity":1,"message":"222","line":68,"column":33,"nodeType":"223","endLine":68,"endColumn":86},{"ruleId":"221","severity":1,"message":"222","line":75,"column":33,"nodeType":"223","endLine":75,"endColumn":86},{"ruleId":"221","severity":1,"message":"222","line":82,"column":33,"nodeType":"223","endLine":82,"endColumn":86},"no-native-reassign",["255"],"no-negated-in-lhs",["256"],"react-hooks/exhaustive-deps","Effect callbacks are synchronous to prevent race conditions. Put the async function inside:\n\nuseEffect(() => {\n  async function fetchData() {\n    // You can await here\n    const response = await MyAPI.getData(someId);\n    // ...\n  }\n  fetchData();\n}, [someId]); // Or [] if effect doesn't need props or state\n\nLearn more about data fetching with Hooks: https://reactjs.org/link/hooks-data-fetching","ArrowFunctionExpression","React Hook useEffect has missing dependencies: 'dispatch' and 'edit'. Either include them or remove the dependency array.","ArrayExpression",["257"],"no-unused-vars","'AnimateSharedLayout' is defined but never used.","Identifier","unusedVar","'cart' is defined but never used.","'api' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","React Hook useEffect has missing dependencies: 'listing.id', 'listingData', and 'listingId'. Either include them or remove the dependency array.",["258"],"'currentUser' is assigned a value but never used.","jsx-a11y/anchor-is-valid","The href attribute is required for an anchor to be keyboard accessible. Provide a valid, navigable address as the href value. If you cannot provide an href, but still need the element to resemble a link, use a button and change it with appropriate styles. Learn more: https://github.com/jsx-eslint/eslint-plugin-jsx-a11y/blob/HEAD/docs/rules/anchor-is-valid.md","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.",["259"],"'user' is assigned a value but never used.","'useCallback' is defined but never used.",["260"],"'LoginButton' is defined but never used.","'toggleLike' is assigned a value but never used.","'paypal' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'dispatch', 'listingId', and 'user'. Either include them or remove the dependency array.",["261"],"React Hook useEffect has a missing dependency: 'user'. Either include it or remove the dependency array.",["262"],"React Hook useEffect has a missing dependency: 'userId'. Either include it or remove the dependency array.",["263"],"'useAuth0' is defined but never used.","'Path' is assigned a value but never used.","'transition' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'listingId' and 'user'. Either include them or remove the dependency array.",["264"],"React Hook useEffect has missing dependencies: 'currentListing?.description', 'currentListing?.image1', 'currentListing?.image2', 'currentListing?.image3', 'currentListing.length', 'currentListing?.price', 'currentListing?.title', and 'listingImages'. Either include them or remove the dependency array.",["265"],"'useEffect' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"266","fix":"267"},{"desc":"268","fix":"269"},{"desc":"270","fix":"271"},{"desc":"270","fix":"272"},{"desc":"273","fix":"274"},{"desc":"275","fix":"276"},{"desc":"277","fix":"278"},{"desc":"279","fix":"280"},{"desc":"281","fix":"282"},"Update the dependencies array to be: [dispatch, edit, location]",{"range":"283","text":"284"},"Update the dependencies array to be: [currentUser, listing.id, listingData, listingId]",{"range":"285","text":"286"},"Update the dependencies array to be: [dispatch]",{"range":"287","text":"288"},{"range":"289","text":"288"},"Update the dependencies array to be: [currentUser, dispatch, listingId, user]",{"range":"290","text":"291"},"Update the dependencies array to be: [user]",{"range":"292","text":"293"},"Update the dependencies array to be: [userId]",{"range":"294","text":"295"},"Update the dependencies array to be: [currentUser, currentPage, listingId, user]",{"range":"296","text":"297"},"Update the dependencies array to be: [currentListing?.description, currentListing?.image1, currentListing?.image2, currentListing?.image3, currentListing.length, currentListing?.price, currentListing?.title, listingImages]",{"range":"298","text":"299"},[1443,1453],"[dispatch, edit, location]",[10985,10998],"[currentUser, listing.id, listingData, listingId]",[709,711],"[dispatch]",[682,684],[7361,7374],"[currentUser, dispatch, listingId, user]",[660,662],"[user]",[672,674],"[userId]",[4352,4378],"[currentUser, currentPage, listingId, user]",[8425,8427],"[currentListing?.description, currentListing?.image1, currentListing?.image2, currentListing?.image3, currentListing.length, currentListing?.price, currentListing?.title, listingImages]"]